"use strict";(self["webpackChunkportfolio_display"]=self["webpackChunkportfolio_display"]||[]).push([[955],{53955:function(t,e,r){r.r(e),r.d(e,{default:function(){return C}});var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.error?r("div",[r("Error",{attrs:{errorType:t.error}})],1):r("div",[r("v-row",{staticClass:"ml-1",staticStyle:{"z-index":"2",top:"10px",position:"fixed"}},[r("v-btn",{attrs:{text:""},on:{click:t.back}},[t._v("Back")]),t.canEditPortfolio?r("v-btn",{attrs:{text:""},on:{click:function(e){return t.$router.push({name:"Build"})}}},[t._v("Edit")]):t._e()],1),r("DisplayEngine",{key:Object.keys(t.portfolio)[0],attrs:{portfolio:t.portfolio}})],1)])},i=[],s=(r(26699),r(77154)),n=r(90965),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",{staticClass:"container",attrs:{"fill-height":"",fluid:""}},[t.error?r("div",[r("v-alert",{attrs:{prominent:"",type:t.error.displayType}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"grow"},[r("div",{staticClass:"errorPadding"},[r("h5",[t._v(t._s(t.error.title))]),t._v(" "+t._s(t.error.desc)+" "),r("br"),r("v-btn",{staticClass:"mt-5 black--text",attrs:{color:"white"},on:{click:function(e){return e.stopPropagation(),t.btnAction.apply(null,arguments)}}},[t._v(" Search Again ")])],1)])],1)],1)],1):t._e()])],1)},c=[],l={props:{errorType:{required:!0,type:String}},created(){this.error=this.errorData.find((t=>t.errorType===this.errorType))??{title:"Error Encountered",desc:"An error was encountered whilst loading portfolio.",displayType:"warning"},document.title=this.error.title},data:()=>({error:null,errorData:[{errorType:"user not found",title:"Portfolio Not Found",desc:"Please search for another portfolio.",displayType:"error"},{errorType:"no server connection",title:"No Connection",desc:"There has been an issue connecting to our servers. This may be an internet connectivity issue.",displayType:"error"},{errorType:"account set private",title:"Access Restricted",desc:"This portfolio has been marked as private!",displayType:"info"}]}),methods:{btnAction(){this.$router.push({name:"Home",query:{to:"explore"}})}}},u=l,p=r(1001),h=r(43453),d=r.n(h),f=r(77847),y=r(9787),v=r(17024),m=r(71819),w=r(57894),b=(0,p.Z)(u,a,c,!1,null,null,null),k=b.exports;d()(b,{VAlert:f.Z,VBtn:y.Z,VCol:v.Z,VContainer:m.Z,VRow:w.Z});var T={components:{Error:k,DisplayEngine:s.Z},async created(){if(this.$route.fullPath.includes("preview")&&this.$store.state.portfolioItem)return this.previewMode=!0,document.title="Preview - Portfolio",this.portfolio=this.$store.state.portfolioItem;this.$route.fullPath.includes("preview")&&(this.$store.state.snackbarText="There seems to be nothing to preview!",this.$router.push("/"));try{const t=await n.Z.isUsernameTaken(this.$route.params.user);if(!t)return this.error="user not found"}catch(t){return this.catchClause(t)}try{const t=await n.Z.getPortfolioPrivacyByUsername(this.$route.params.user);if(!t.visibility&&t.accesskey!==this.$route.query.accesskey)return this.error="account set private"}catch(t){return this.catchClause(t)}try{const t=await n.Z.getPortfolioContentByUsername(this.$route.params.user);t?.error&&(this.error=t.error),document.title=`${this.$route.params.user} - Portfolio`,this.portfolio=t}catch(t){return this.catchClause(t)}},data(){return{error:void 0,previewMode:!1,portfolio:{default:null}}},mounted(){},computed:{canEditPortfolio(){return this.$route.params.user===localStorage.getItem("username")&&!this.previewMode}},methods:{back(){history.back()},catchClause(t){this.$store.state.snackbarText="Cannot connect to server",this.error="no server conection",console.warn(t)}}},$=T,g=(0,p.Z)($,o,i,!1,null,null,null),C=g.exports;d()(g,{VBtn:y.Z,VRow:w.Z})}}]);
//# sourceMappingURL=955.e58159ff.js.map